{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/timothy/foodbank/client/src/Components/Map/index.tsx\",\n    _s = $RefreshSig$();\n\n// naming conventions of items in svg = id of group in camelCase, image import name in PascalCase.\n// svg tree generated from dev/svgParse.py (super hacky atm)\nimport React, { useEffect, useState } from 'react';\nimport { TransformComponent, TransformWrapper } from 'react-zoom-pan-pinch';\nimport { Location } from '../../lib/types';\nimport Townbox from '../Townbox'; //import mapImg from './assets/TuckerMap.jpg'\n\nimport descData from './assets/description.json';\nimport './index.css';\nimport svgData from './svgImageData.json';\nimport Map from './Map'; //import internal from 'stream'\n\nconst Test = () => {\n  _s();\n\n  // Used because SVG does not scale properly without\n  const [scale, setScale] = useState(1);\n  const [height, setHeight] = useState(1);\n  const [selected, setSelect] = useState(null);\n  const [display, setDisplay] = useState(false); // const [townbox, setTownbox] = useState(<></>)\n\n  useEffect(() => {\n    function handleResize() {\n      const mobileWidth = 2900;\n      const minStaticWidth = 1170;\n      const targetWidth = window.innerWidth > minStaticWidth ? window.innerWidth : mobileWidth;\n      setScale(targetWidth / 4961);\n    }\n\n    handleResize();\n    window.addEventListener('resize', handleResize);\n  }, []); // to get the area description given an area so you can actually use headers/captions\n  // returns null if such area doesn't exist in assets/description.json\n\n  const getAreaDescription = area => {\n    for (const place of descData.descriptionArray) {\n      if (place.id === Location[area]) {\n        return place;\n      }\n    }\n\n    return null;\n  };\n\n  const close = () => {\n    setSelect(null);\n    setDisplay(false);\n  };\n\n  if (height) // const selectArea = (area: Location) => {\n    //   selected === area ? setSelect(null) : setSelect(area)\n    //   setDisplay(!display)\n    // }\n    // const handleClick = (\n    //   event: any,\n    //   setTransform: any,\n    //   xtrans: number,\n    //   ytrans: number\n    // ) => {\n    //   //need to change this type\n    //   event.preventDefault()\n    //   const area = event.target.alt\n    //   selectArea(Location[area as keyof typeof Location])\n    //   setTransform(xtrans, ytrans, 2)\n    // }\n    // Data can be made from dev/svgParse.py\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(TransformWrapper, {\n          doubleClick: {\n            disabled: true\n          },\n          wheel: {\n            disabled: true\n          },\n          initialScale: 1,\n          children: ({\n            resetTransform,\n            setTransform\n          }) => /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(TransformComponent, {\n              children: /*#__PURE__*/_jsxDEV(Map, {\n                scale: scale,\n                setTransform: () => setTransform,\n                setHeight: () => setHeight,\n                setDisplay: () => setDisplay\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `full-page-wrapper ${display ? '' : 'none'}`,\n              children: svgData.groupArray.map(area => {\n                if (selected !== null && area.coords) {\n                  const selectedArea = getAreaDescription(selected);\n\n                  if (selectedArea !== null && selectedArea.id === area.id) {\n                    return /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"townbox-wrapper\",\n                        children: /*#__PURE__*/_jsxDEV(Townbox, {\n                          headerColor: selectedArea === null || selectedArea === void 0 ? void 0 : selectedArea.headerColor,\n                          headerText: selectedArea === null || selectedArea === void 0 ? void 0 : selectedArea.headerText,\n                          captionText: selectedArea === null || selectedArea === void 0 ? void 0 : selectedArea.captionText,\n                          showButton: selectedArea === null || selectedArea === void 0 ? void 0 : selectedArea.showButton,\n                          close: () => {\n                            close();\n                            resetTransform();\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 98,\n                          columnNumber: 29\n                        }, this)\n                      }, selectedArea.id, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 94,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false);\n                  }\n                }\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this)\n    }, void 0, false);\n};\n\n_s(Test, \"MOoUOZUgjkojO032GW9pYF8Tq5I=\");\n\n_c = Test;\nexport default Test;\n\nvar _c;\n\n$RefreshReg$(_c, \"Test\");","map":{"version":3,"sources":["/home/timothy/foodbank/client/src/Components/Map/index.tsx"],"names":["React","useEffect","useState","TransformComponent","TransformWrapper","Location","Townbox","descData","svgData","Map","Test","scale","setScale","height","setHeight","selected","setSelect","display","setDisplay","handleResize","mobileWidth","minStaticWidth","targetWidth","window","innerWidth","addEventListener","getAreaDescription","area","place","descriptionArray","id","close","disabled","resetTransform","setTransform","groupArray","map","coords","selectedArea","headerColor","headerText","captionText","showButton"],"mappings":";;;;;;AAAA;AACA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,kBAAT,EAA6BC,gBAA7B,QAAqD,sBAArD;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,OAAOC,OAAP,MAAoB,YAApB,C,CACA;;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAO,aAAP;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,GAAP,MAAgB,OAAhB,C,CACA;;AAEA,MAAMC,IAAc,GAAG,MAAM;AAAA;;AAC3B;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,CAAD,CAAlC;AACA,QAAM,CAACW,MAAD,EAASC,SAAT,IAAsBZ,QAAQ,CAAC,CAAD,CAApC;AACA,QAAM,CAACa,QAAD,EAAWC,SAAX,IAAwBd,QAAQ,CAAkB,IAAlB,CAAtC;AACA,QAAM,CAACe,OAAD,EAAUC,UAAV,IAAwBhB,QAAQ,CAAC,KAAD,CAAtC,CAL2B,CAM3B;;AAGAD,EAAAA,SAAS,CAAC,MAAM;AACd,aAASkB,YAAT,GAAwB;AACtB,YAAMC,WAAW,GAAG,IAApB;AACA,YAAMC,cAAc,GAAG,IAAvB;AACA,YAAMC,WAAW,GACfC,MAAM,CAACC,UAAP,GAAoBH,cAApB,GAAqCE,MAAM,CAACC,UAA5C,GAAyDJ,WAD3D;AAEAR,MAAAA,QAAQ,CAACU,WAAW,GAAG,IAAf,CAAR;AACD;;AACDH,IAAAA,YAAY;AACZI,IAAAA,MAAM,CAACE,gBAAP,CAAwB,QAAxB,EAAkCN,YAAlC;AACD,GAVQ,EAUN,EAVM,CAAT,CAT2B,CAqB3B;AACA;;AACA,QAAMO,kBAAkB,GAAIC,IAAD,IAAoB;AAE7C,SAAK,MAAMC,KAAX,IAAoBrB,QAAQ,CAACsB,gBAA7B,EAA+C;AAC7C,UAAID,KAAK,CAACE,EAAN,KAAazB,QAAQ,CAACsB,IAAD,CAAzB,EAAiC;AAC/B,eAAOC,KAAP;AACD;AACF;;AACD,WAAO,IAAP;AACD,GARD;;AASA,QAAMG,KAAK,GAAG,MAAM;AAClBf,IAAAA,SAAS,CAAC,IAAD,CAAT;AACAE,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAHD;;AAKA,MAAIL,MAAJ,EACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,wBACE;AAAA,6BACE;AAAA,+BACE,QAAC,gBAAD;AACE,UAAA,WAAW,EAAE;AAAEmB,YAAAA,QAAQ,EAAE;AAAZ,WADf;AAEE,UAAA,KAAK,EAAE;AAAEA,YAAAA,QAAQ,EAAE;AAAZ,WAFT;AAGE,UAAA,YAAY,EAAE,CAHhB;AAAA,oBAKG,CAAC;AAAEC,YAAAA,cAAF;AAAkBC,YAAAA;AAAlB,WAAD,kBACC;AAAA,oCACE,QAAC,kBAAD;AAAA,qCACA,QAAC,GAAD;AAAK,gBAAA,KAAK,EAAEvB,KAAZ;AAAmB,gBAAA,YAAY,EAAE,MAAMuB,YAAvC;AAAqD,gBAAA,SAAS,EAAE,MAAMpB,SAAtE;AAAiF,gBAAA,UAAU,EAAE,MAAMI;AAAnG;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,oBADF,eAKE;AAAK,cAAA,SAAS,EAAG,qBAAoBD,OAAO,GAAG,EAAH,GAAQ,MAAO,EAA3D;AAAA,wBACGT,OAAO,CAAC2B,UAAR,CAAmBC,GAAnB,CAAuBT,IAAI,IAAI;AAC9B,oBAAIZ,QAAQ,KAAK,IAAb,IAAqBY,IAAI,CAACU,MAA9B,EAAsC;AACpC,wBAAMC,YAAY,GAAGZ,kBAAkB,CAACX,QAAD,CAAvC;;AAEA,sBAAIuB,YAAY,KAAK,IAAjB,IAAyBA,YAAY,CAACR,EAAb,KAAoBH,IAAI,CAACG,EAAtD,EAA0D;AACxD,wCACE;AAAA,6CACE;AAEE,wBAAA,SAAS,EAAC,iBAFZ;AAAA,+CAIE,QAAC,OAAD;AACE,0BAAA,WAAW,EAAEQ,YAAF,aAAEA,YAAF,uBAAEA,YAAY,CAAEC,WAD7B;AAEE,0BAAA,UAAU,EAAED,YAAF,aAAEA,YAAF,uBAAEA,YAAY,CAAEE,UAF5B;AAGE,0BAAA,WAAW,EAAEF,YAAF,aAAEA,YAAF,uBAAEA,YAAY,CAAEG,WAH7B;AAIE,0BAAA,UAAU,EAAEH,YAAF,aAAEA,YAAF,uBAAEA,YAAY,CAAEI,UAJ5B;AAKE,0BAAA,KAAK,EAAE,MAAM;AACXX,4BAAAA,KAAK;AACLE,4BAAAA,cAAc;AACf;AARH;AAAA;AAAA;AAAA;AAAA;AAJF,yBACOK,YAAY,CAACR,EADpB;AAAA;AAAA;AAAA;AAAA;AADF,qCADF;AAmBD;AACF;AACF,eA1BA;AADH;AAAA;AAAA;AAAA;AAAA,oBALF;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF,qBADF;AAiDD,CA1GD;;GAAMpB,I;;KAAAA,I;AA4GN,eAAeA,IAAf","sourcesContent":["// naming conventions of items in svg = id of group in camelCase, image import name in PascalCase.\n// svg tree generated from dev/svgParse.py (super hacky atm)\n\nimport React, { useEffect, useState } from 'react'\nimport { TransformComponent, TransformWrapper } from 'react-zoom-pan-pinch'\nimport { Location } from '../../lib/types'\nimport Townbox from '../Townbox'\n//import mapImg from './assets/TuckerMap.jpg'\nimport descData from './assets/description.json'\nimport './index.css'\nimport svgData from './svgImageData.json'\nimport Map from './Map'\n//import internal from 'stream'\n\nconst Test: React.FC = () => {\n  // Used because SVG does not scale properly without\n  const [scale, setScale] = useState(1)\n  const [height, setHeight] = useState(1)\n  const [selected, setSelect] = useState<Location | null>(null)\n  const [display, setDisplay] = useState(false)\n  // const [townbox, setTownbox] = useState(<></>)\n  type HeaderColor = 'primary' | 'orange'\n\n  useEffect(() => {\n    function handleResize() {\n      const mobileWidth = 2900\n      const minStaticWidth = 1170\n      const targetWidth =\n        window.innerWidth > minStaticWidth ? window.innerWidth : mobileWidth\n      setScale(targetWidth / 4961)\n    }\n    handleResize()\n    window.addEventListener('resize', handleResize)\n  }, [])\n\n  // to get the area description given an area so you can actually use headers/captions\n  // returns null if such area doesn't exist in assets/description.json\n  const getAreaDescription = (area: Location) => {\n\n    for (const place of descData.descriptionArray) {\n      if (place.id === Location[area]) {\n        return place\n      }\n    }\n    return null\n  }\n  const close = () => {\n    setSelect(null)\n    setDisplay(false)\n  }\n\n  if (height)\n  // const selectArea = (area: Location) => {\n  //   selected === area ? setSelect(null) : setSelect(area)\n  //   setDisplay(!display)\n  // }\n\n  // const handleClick = (\n  //   event: any,\n  //   setTransform: any,\n  //   xtrans: number,\n  //   ytrans: number\n  // ) => {\n  //   //need to change this type\n  //   event.preventDefault()\n  //   const area = event.target.alt\n  //   selectArea(Location[area as keyof typeof Location])\n  //   setTransform(xtrans, ytrans, 2)\n  // }\n\n  // Data can be made from dev/svgParse.py\n  return (\n    <>\n      <div>\n        <TransformWrapper\n          doubleClick={{ disabled: true }}\n          wheel={{ disabled: true }}\n          initialScale={1}\n        >\n          {({ resetTransform, setTransform }) => (\n            <>\n              <TransformComponent>\n              <Map scale={scale} setTransform={() => setTransform} setHeight={() => setHeight} setDisplay={() => setDisplay}/>\n              </TransformComponent>\n\n              <div className={`full-page-wrapper ${display ? '' : 'none'}`}>\n                {svgData.groupArray.map(area => {\n                  if (selected !== null && area.coords) {\n                    const selectedArea = getAreaDescription(selected)\n\n                    if (selectedArea !== null && selectedArea.id === area.id) {\n                      return (\n                        <>\n                          <div\n                            key={selectedArea.id}\n                            className='townbox-wrapper'\n                          >\n                            <Townbox\n                              headerColor={selectedArea?.headerColor as HeaderColor}\n                              headerText={selectedArea?.headerText}\n                              captionText={selectedArea?.captionText}\n                              showButton={selectedArea?.showButton}\n                              close={() => {\n                                close()\n                                resetTransform()\n                              }}\n                            />\n                          </div>\n                        </>\n                      )\n                    }\n                  }\n                })}\n              </div>\n            </>\n          )}\n        </TransformWrapper>\n      </div>\n    </>\n  )\n}\n\nexport default Test\n"]},"metadata":{},"sourceType":"module"}